"use strict";(self.webpackChunktrinity_validator=self.webpackChunktrinity_validator||[]).push([[0],{6618:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var n=a(6540),i=a(781),s=a(4848);function o(){const[t,e]=(0,n.useState)(!0),a=n.useRef(null);return(0,n.useEffect)((()=>{!async function(){try{const t="https://proxy.quokkastake.io/raw?url=https://api.sentinel.quokkastake.io/cosmos",n="sentvaloper1mcwvu4vpvfcnxduzpelehmgga282wtc0xux7se",i="sentvalcons1zcgc4klfqgk2x942j6k5agszlnmrd2pt52p5us",[s,o,r,l]=await Promise.all([fetch(t+"/slashing/v1beta1/signing_infos/"+i),fetch(t+"/staking/v1beta1/validators/"+n),fetch(t+"/staking/v1beta1/validators/"+n+"/delegations?pagination.count_total=true&pagination.limit=1"),fetch(t+"/staking/v1beta1/validators?status=BOND_STATUS_BONDED")]),d=await s.json(),c=await o.json(),p=await r.json(),u={...await l.json()},m=u.validators.find((t=>t.operator_address===n));u.validators.sort(((t,e)=>Number(e.tokens)-Number(t.tokens)));const h=u.validators.findIndex((t=>t.operator_address===m.operator_address)),g=parseFloat(c.validator.tokens)/1e12,f=parseInt(d.val_signing_info.missed_blocks_counter),v=100*parseFloat(c.validator.commission.commission_rates.rate),k=parseInt(p.pagination.total),x=parseFloat((1e4-f)/1e4*100),_=`${g.toFixed(2)}m`,C=f.toString(),w=`${v.toFixed(2)}%`,E=`${x.toFixed(2)}%`,T=document.createElement("h1");T.innerHTML="Validator Details";const b=document.createElement("p");b.innerHTML=`Rank: ${h+1} / 80`;const j=document.createElement("p");j.innerHTML=`Delegation: ${_}`;const y=document.createElement("p");y.innerHTML=`Commission: ${w}`;const $=document.createElement("p");$.innerHTML=`Delegators: ${k}`;const D=document.createElement("p");D.innerHTML=`Missed Blocks: ${C}`;const L=document.createElement("p");L.innerHTML=`Uptime: ${E}`;const M=a.current;M.appendChild(T),M.appendChild(b),M.appendChild(j),M.appendChild(y),M.appendChild($),M.appendChild(D),M.appendChild(L),e(!1)}catch(t){console.error("Error fetching data:",t),e(!1)}}()}),[]),(0,s.jsx)(i.A,{title:"Stats",description:"Trinity Validator Stat Page",children:(0,s.jsx)("div",{id:"validator-stats",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"50vh",fontSize:"20px"},ref:a,children:t?(0,s.jsx)("p",{children:"Loading Validator Details... \u231b\ufe0f"}):null})})}}}]);